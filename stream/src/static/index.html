<html>
    <head>
        <style>
            .stream-img {
                width: 640px;
            }
            video {
                background-color: black;
            }
        </style>
        <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js"></script> -->
        <script src="https://cdn.jsdelivr.net/npm/hls.js"></script>
        
    </head>
    <body>
        <video id="video" controls muted autoplay></video>
        <script>
            var config = {
                autoStartLoad: true,
                startPosition: -1,
                debug: false,
                capLevelOnFPSDrop: false,
                capLevelToPlayerSize: false,
                defaultAudioCodec: undefined,
                initialLiveManifestSize: 1,
                maxBufferLength: 30,
                maxMaxBufferLength: 600,
                backBufferLength: Infinity,
                maxBufferSize: 60 * 1000 * 1000,
                maxBufferHole: 0.5,
                highBufferWatchdogPeriod: 2,
                nudgeOffset: 0.1,
                nudgeMaxRetry: 3,
                maxFragLookUpTolerance: 0.25,
                liveSyncDurationCount: 1,
                liveMaxLatencyDurationCount: 2,
                liveDurationInfinity: true,
                enableWorker: true,
                enableSoftwareAES: true,
                manifestLoadingTimeOut: 10000,
                manifestLoadingMaxRetry: 1,
                manifestLoadingRetryDelay: 1000,
                manifestLoadingMaxRetryTimeout: 64000,
                startLevel: undefined,
                levelLoadingTimeOut: 10000,
                levelLoadingMaxRetry: 40,
                levelLoadingRetryDelay: 1000,
                levelLoadingMaxRetryTimeout: 64000,
                fragLoadingTimeOut: 20000,
                fragLoadingMaxRetry: 6,
                fragLoadingRetryDelay: 1000,
                fragLoadingMaxRetryTimeout: 64000,
                startFragPrefetch: false,
                testBandwidth: true,
                progressive: false,
                lowLatencyMode: true,
                fpsDroppedMonitoringPeriod: 5000,
                fpsDroppedMonitoringThreshold: 0.2,
                appendErrorMaxRetry: 3,
                enableWebVTT: true,
                enableIMSC1: true,
                enableCEA708Captions: true,
                stretchShortVideoTrack: false,
                maxAudioFramesDrift: 1,
                forceKeyFrameOnDiscontinuity: true,
                abrEwmaFastLive: 3.0,
                abrEwmaSlowLive: 9.0,
                abrEwmaFastVoD: 3.0,
                abrEwmaSlowVoD: 9.0,
                abrEwmaDefaultEstimate: 500000,
                abrBandWidthFactor: 0.95,
                abrBandWidthUpFactor: 0.7,
                abrMaxWithRealBitrate: false,
                maxStarvationDelay: 4,
                maxLoadingDelay: 4,
                minAutoBitrate: 0,
                emeEnabled: false,
                widevineLicenseUrl: undefined,
                licenseXhrSetup: undefined,
                drmSystemOptions: {},
                maxLiveSyncPlaybackRate: 1.5,
                // liveMaxLatencyDuration: 1,
                // liveSyncDuration: 0.5,
            };
            var video = document.getElementById('video');
            var videoSrc = 'stream.m3u8';
            if (Hls.isSupported()) {
                var hls = new Hls(config);
                hls.loadSource(videoSrc);
                hls.attachMedia(video);
                hls.on(Hls.Events.MANIFEST_PARSED,function() {
                    video.play();
                });
            }
            else if (video.canPlayType('application/vnd.apple.mpegurl')) {
                video.src = videoSrc;
            }
        </script>
    </body>
</html>